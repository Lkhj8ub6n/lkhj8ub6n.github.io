<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: Memory Management - Complete Interactive Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            direction: ltr;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
            background: #ffffff;
            margin-top: 10px;
            margin-bottom: 10px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        }

        .header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            margin-bottom: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
            color: #ffd700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .nav-btn {
            padding: 12px 18px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
            background: #764ba2;
        }

        .nav-btn.active {
            background: #764ba2;
            box-shadow: 0 5px 15px rgba(118, 75, 162, 0.2);
            transform: translateY(-2px);
        }

        .progress-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 15px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.8s ease;
            border-radius: 15px;
            position: relative;
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .topic-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.1);
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.15);
        }

        .topic-title {
            font-size: 2em;
            color: #667eea;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            font-weight: bold;
        }

        .topic-title::before {
            content: '💾';
            margin-right: 15px;
            font-size: 0.8em;
        }

        .bilingual-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        .english-content {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #2196f3;
        }

        .arabic-content {
            background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
            padding: 20px;
            border-radius: 12px;
            border-right: 4px solid #ff9800;
            direction: rtl;
            text-align: right;
        }

        .highlight {
            background: linear-gradient(120deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 6px 14px;
            border-radius: 8px;
            font-weight: bold;
            color: #667eea;
            border: 2px solid #f39c12;
            box-shadow: 0 2px 8px rgba(243, 156, 18, 0.3);
            display: inline-block;
            margin: 3px;
        }

        .super-important {
            background: linear-gradient(120deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            padding: 10px 18px;
            border-radius: 12px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            box-shadow: 0 4px 12px rgba(238, 90, 82, 0.4);
            display: inline-block;
            margin: 5px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .memory-diagram {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.1);
        }

        .memory-block {
            display: inline-block;
            margin: 10px;
            padding: 15px 20px;
            border-radius: 8px;
            font-weight: bold;
            color: white;
            text-align: center;
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .memory-block:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .os-block {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
        }

        .process-block {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
        }

        .free-block {
            background: linear-gradient(135deg, #95e1d3 0%, #fce38a 100%);
            color: #333;
        }

        .page-block {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .frame-block {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .quiz-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 3px solid #667eea;
            position: relative;
        }

        .quiz-section::before {
            content: '🎯 اختبار / Quiz';
            position: absolute;
            top: -18px;
            left: 25px;
            background: #667eea;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
        }

        .quiz-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 6px 18px rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .question {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #667eea;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }

        .options {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option {
            padding: 15px 25px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
            font-size: 1.05em;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(8px);
            box-shadow: 0 6px 18px rgba(102, 126, 234, 0.1);
        }

        .option.selected {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .option.correct {
            border-color: #4caf50;
            background: #e8f5e8;
            animation: correctPulse 0.5s ease;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            animation: incorrectShake 0.5s ease;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .result {
            padding: 18px;
            border-radius: 12px;
            margin-top: 20px;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transform: translateY(15px);
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .result.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result.correct {
            background: #e8f5e8;
            color: #2e7d32;
            border: 3px solid #4caf50;
        }

        .result.incorrect {
            background: #ffebee;
            color: #c62828;
            border: 3px solid #f44336;
        }

        .collapsible {
            cursor: pointer;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            margin: 20px 0;
            transition: all 0.3s ease;
            border: 3px solid #667eea;
            position: relative;
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.1);
            font-weight: bold;
            font-size: 1.1em;
        }

        .collapsible::after {
            content: '▼';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            transition: transform 0.3s ease;
            font-size: 1.3em;
            color: #667eea;
        }

        .collapsible.active::after {
            transform: translateY(-50%) rotate(180deg);
        }

        .collapsible-content {
            display: none;
            padding: 25px;
            border-top: 3px solid #667eea;
            background: white;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.1);
        }

        .collapsible.active + .collapsible-content {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 800px; }
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        .comparison-table td {
            padding: 15px;
            border: 1px solid #ddd;
            text-align: center;
            background: white;
        }

        .comparison-table tr:nth-child(even) td {
            background: #f8f9fa;
        }

        @media (max-width: 768px) {
            .bilingual-content {
                grid-template-columns: 1fr;
            }
            
            .container {
                margin: 5px;
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .header h2 {
                font-size: 1.4em;
            }
            
            .memory-diagram {
                padding: 15px;
            }
            
            .memory-block {
                margin: 5px;
                padding: 10px 15px;
                min-width: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Chapter 7: Memory Management</h1>
            <h2>الفصل السابع: إدارة الذاكرة</h2>
            <p>Complete Interactive Guide with Bilingual Explanations</p>
            <p>دليل تفاعلي شامل مع شرح باللغتين</p>
        </header>

        <nav class="nav-menu">
            <button class="nav-btn active" data-section="overview">Overview / نظرة عامة</button>
            <button class="nav-btn" data-section="background">Background / خلفية</button>
            <button class="nav-btn" data-section="binding">Address Binding / ربط العناوين</button>
            <button class="nav-btn" data-section="logical-physical">Logical vs Physical / منطقي ضد فيزيائي</button>
            <button class="nav-btn" data-section="mmu">MMU / وحدة إدارة الذاكرة</button>
            <button class="nav-btn" data-section="dynamic-loading">Dynamic Loading / التحميل الديناميكي</button>
            <button class="nav-btn" data-section="swapping">Swapping / التبديل</button>
            <button class="nav-btn" data-section="contiguous">Contiguous Allocation / التخصيص المتجاور</button>
            <button class="nav-btn" data-section="paging">Paging / التصفح</button>
            <button class="nav-btn" data-section="page-structure">Page Table Structure / هيكل جدول الصفحات</button>
            <button class="nav-btn" data-section="shared-pages">Shared Pages / الصفحات المشتركة</button>
            <button class="nav-btn" data-section="segmentation">Segmentation / التجزئة</button>
            <button class="nav-btn" data-section="final-quiz">Final Exam / امتحان نهائي</button>
        </nav>

        <div class="progress-container">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; font-size: 1.4em; font-weight: bold; color: #667eea;">
                <span id="scoreDisplay">Score: 0/0</span>
                <span id="percentageDisplay">0%</span>
            </div>

        <!-- Page Table Structure Section -->
        <div id="page-structure" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Page Table Structure - هيكل جدول الصفحات</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>📊 Three Types of Page Table Structures</h3>
                        <p><span class="super-important">Different approaches for organizing page tables efficiently</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Hierarchical Paging:</strong> Break logical address space into multiple page tables</li>
                            <li><strong>Hashed Page Tables:</strong> Common for address spaces > 32 bits</li>
                            <li><strong>Inverted Page Tables:</strong> One entry for each real page of memory</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>📊 ثلاثة أنواع من هياكل جدول الصفحات</h3>
                        <p><span class="super-important">مناهج مختلفة لتنظيم جداول الصفحات بكفاءة</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>التصفح الهرمي:</strong> تقسيم مساحة العناوين المنطقية إلى جداول صفحات متعددة</li>
                            <li><strong>جداول الصفحات المهشورة:</strong> شائع للمساحات > 32 بت</li>
                            <li><strong>جداول الصفحات المعكوسة:</strong> مدخل واحد لكل صفحة حقيقية من الذاكرة</li>
                        </ul>
                    </div>
                </div>

                <div class="collapsible" onclick="toggleCollapsible(this)">
                    📊 Hierarchical Page Tables / جداول الصفحات الهرمية
                </div>
                <div class="collapsible-content">
                    <div class="bilingual-content">
                        <div class="english-content">
                            <h4>🏗️ Two-Level Page Table</h4>
                            <p><span class="highlight">Most common hierarchical approach</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>Page Directory:</strong> Points to page tables</li>
                                <li><strong>Page Table:</strong> Points to actual pages</li>
                                <li><strong>Address Division:</strong> Page directory number | Page table number | Offset</li>
                                <li><strong>Memory Savings:</strong> Only allocate needed page tables</li>
                            </ul>
                            
                            <div class="memory-diagram">
                                <h5>🔢 Address Translation Process</h5>
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                    <strong>32-bit Address Example:</strong><br>
                                    Bits 31-22: Page Directory Index (10 bits)<br>
                                    Bits 21-12: Page Table Index (10 bits)<br>
                                    Bits 11-0: Page Offset (12 bits)
                                </div>
                            </div>
                        </div>
                        <div class="arabic-content">
                            <h4>🏗️ جدول الصفحات ثنائي المستوى</h4>
                            <p><span class="highlight">المنهج الهرمي الأكثر شيوعاً</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>دليل الصفحات:</strong> يشير إلى جداول الصفحات</li>
                                <li><strong>جدول الصفحات:</strong> يشير إلى الصفحات الفعلية</li>
                                <li><strong>تقسيم العنوان:</strong> رقم دليل الصفحة | رقم جدول الصفحة | الإزاحة</li>
                                <li><strong>توفير الذاكرة:</strong> تخصيص جداول الصفحات المطلوبة فقط</li>
                            </ul>
                            
                            <div class="memory-diagram">
                                <h5>🔢 عملية ترجمة العناوين</h5>
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                                    <strong>مثال عنوان 32 بت:</strong><br>
                                    البتات 31-22: فهرس دليل الصفحة (10 بت)<br>
                                    البتات 21-12: فهرس جدول الصفحة (10 بت)<br>
                                    البتات 11-0: إزاحة الصفحة (12 بت)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="collapsible" onclick="toggleCollapsible(this)">
                    #️⃣ Hashed Page Tables / جداول الصفحات المهشورة
                </div>
                <div class="collapsible-content">
                    <div class="bilingual-content">
                        <div class="english-content">
                            <h4>🔍 Hash-Based Approach</h4>
                            <p><span class="highlight">Efficient for large address spaces (> 32 bits)</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>Hash Function:</strong> Virtual page number → hash table index</li>
                                <li><strong>Collision Handling:</strong> Chain of elements with same hash</li>
                                <li><strong>Search Process:</strong> Compare virtual page numbers in chain</li>
                                <li><strong>Performance:</strong> Fast for sparse address spaces</li>
                            </ul>
                            
                            <div class="memory-diagram">
                                <h5>⚙️ Hash Table Process</h5>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 15px 0;">
                                    <div style="text-align: center;">
                                        <div class="memory-block" style="background: #4ecdc4;">Virtual Page #<br>رقم الصفحة الافتراضية</div>
                                        <p style="margin-top: 5px;">Hash Function</p>
                                    </div>
                                    <div style="text-align: center;">
                                        <div class="memory-block" style="background: #667eea;">Hash Index<br>فهرس الهاش</div>
                                        <p style="margin-top: 5px;">Chain Search</p>
                                    </div>
                                    <div style="text-align: center;">
                                        <div class="memory-block" style="background: #f093fb;">Physical Frame<br>الإطار الفيزيائي</div>
                                        <p style="margin-top: 5px;">Result</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="arabic-content">
                            <h4>🔍 المنهج القائم على الهاش</h4>
                            <p><span class="highlight">فعال للمساحات الكبيرة (> 32 بت)</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>دالة الهاش:</strong> رقم الصفحة الافتراضية ← فهرس جدول الهاش</li>
                                <li><strong>معالجة التصادم:</strong> سلسلة من العناصر بنفس الهاش</li>
                                <li><strong>عملية البحث:</strong> مقارنة أرقام الصفحات الافتراضية في السلسلة</li>
                                <li><strong>الأداء:</strong> سريع للمساحات المبعثرة</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="collapsible" onclick="toggleCollapsible(this)">
                    🔄 Inverted Page Tables / جداول الصفحات المعكوسة
                </div>
                <div class="collapsible-content">
                    <div class="bilingual-content">
                        <div class="english-content">
                            <h4>🔄 Inverted Approach</h4>
                            <p><span class="highlight">One entry per physical frame instead of per virtual page</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>Size Reduction:</strong> Much smaller page table</li>
                                <li><strong>Entry Content:</strong> Virtual address + process ID</li>
                                <li><strong>Search Challenge:</strong> Must search entire table</li>
                                <li><strong>Hash Solution:</strong> Use hash table to limit search</li>
                            </ul>
                            
                            <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; border: 2px solid #4caf50; margin: 15px 0;">
                                <h5>📊 Size Comparison</h5>
                                <p><strong>Traditional Page Table:</strong> Size = Virtual Address Space / Page Size</p>
                                <p><strong>Inverted Page Table:</strong> Size = Physical Memory / Page Size</p>
                                <p style="margin-top: 10px; color: #2e7d32;"><strong>Result:</strong> Much smaller for large virtual address spaces!</p>
                            </div>
                        </div>
                        <div class="arabic-content">
                            <h4>🔄 المنهج المعكوس</h4>
                            <p><span class="highlight">مدخل واحد لكل إطار فيزيائي بدلاً من كل صفحة افتراضية</span></p>
                            <ul style="margin-top: 15px; line-height: 2;">
                                <li><strong>تقليل الحجم:</strong> جدول صفحات أصغر بكثير</li>
                                <li><strong>محتوى المدخل:</strong> العنوان الافتراضي + معرف العملية</li>
                                <li><strong>تحدي البحث:</strong> يجب البحث في الجدول كاملاً</li>
                                <li><strong>حل الهاش:</strong> استخدام جدول هاش لتحديد البحث</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 10: Which page table structure is most efficient for address spaces larger than 32 bits? / أي هيكل جدول صفحات أكثر كفاءة للمساحات أكبر من 32 بت؟
                        </div>
                        <div class="options" data-question="10">
                            <div class="option" data-answer="wrong">A) Hierarchical page tables / جداول الصفحات الهرمية</div>
                            <div class="option" data-answer="correct">B) Hashed page tables / جداول الصفحات المهشورة</div>
                            <div class="option" data-answer="wrong">C) Inverted page tables / جداول الصفحات المعكوسة</div>
                            <div class="option" data-answer="wrong">D) Linear page tables / جداول الصفحات الخطية</div>
                        </div>
                        <div class="result" id="result10"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shared Pages Section -->
        <div id="shared-pages" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Shared Pages - الصفحات المشتركة</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🤝 Sharing Memory Between Processes</h3>
                        <p><span class="super-important">Multiple processes can share read-only code and data</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Shared Code:</strong> Read-only, reentrant code shared among processes</li>
                            <li><strong>Examples:</strong> Text editors, compilers, window systems, system libraries</li>
                            <li><strong>Location Requirement:</strong> Must appear at same logical address in all processes</li>
                            <li><strong>Memory Savings:</strong> One physical copy serves multiple processes</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🤝 مشاركة الذاكرة بين العمليات</h3>
                        <p><span class="super-important">يمكن لعدة عمليات مشاركة الكود والبيانات للقراءة فقط</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>الكود المشترك:</strong> كود للقراءة فقط، قابل للإعادة، مشارك بين العمليات</li>
                            <li><strong>أمثلة:</strong> محررات النصوص، المترجمات، أنظمة النوافذ، مكتبات النظام</li>
                            <li><strong>متطلب الموقع:</strong> يجب أن يظهر في نفس العنوان المنطقي في جميع العمليات</li>
                            <li><strong>توفير الذاكرة:</strong> نسخة فيزيائية واحدة تخدم عدة عمليات</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>📚 Shared vs Private Pages / الصفحات المشتركة مقابل الخاصة</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <h5>Process 1 / العملية 1</h5>
                            <div style="border: 2px solid #667eea; padding: 15px; border-radius: 10px;">
                                <div class="memory-block" style="background: #4ecdc4; margin: 3px 0; font-size: 0.8em;">Shared Code Page 0<br>صفحة كود مشترك 0</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 3px 0; font-size: 0.8em;">Shared Code Page 1<br>صفحة كود مشترك 1</div>
                                <div class="memory-block" style="background: #ff6b6b; margin: 3px 0; font-size: 0.8em;">Private Data Page 0<br>صفحة بيانات خاصة 0</div>
                                <div class="memory-block" style="background: #ff6b6b; margin: 3px 0; font-size: 0.8em;">Private Data Page 1<br>صفحة بيانات خاصة 1</div>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <h5>Process 2 / العملية 2</h5>
                            <div style="border: 2px solid #667eea; padding: 15px; border-radius: 10px;">
                                <div class="memory-block" style="background: #4ecdc4; margin: 3px 0; font-size: 0.8em;">Shared Code Page 0<br>صفحة كود مشترك 0</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 3px 0; font-size: 0.8em;">Shared Code Page 1<br>صفحة كود مشترك 1</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 3px 0; font-size: 0.8em;">Private Data Page 0<br>صفحة بيانات خاصة 0</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 3px 0; font-size: 0.8em;">Private Data Page 1<br>صفحة بيانات خاصة 1</div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <p><strong>👆 Same physical frames for shared code / نفس الإطارات الفيزيائية للكود المشترك</strong></p>
                        <p><strong>👇 Different frames for private data / إطارات مختلفة للبيانات الخاصة</strong></p>
                    </div>
                </div>

                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>⚙️ Implementation Requirements</h3>
                        <ul style="line-height: 2;">
                            <li><strong>Reentrant Code:</strong> Code must not modify itself during execution</li>
                            <li><strong>Position Dependency:</strong> Shared code must be at same virtual address</li>
                            <li><strong>Protection:</strong> Shared pages marked as read-only</li>
                            <li><strong>Reference Counting:</strong> Track how many processes use each shared page</li>
                        </ul>
                        
                        <h3>📊 Memory Protection Bits</h3>
                        <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; border: 2px solid #2196f3; margin: 15px 0;">
                            <p><strong>Valid/Invalid Bit:</strong> Indicates if page is in process's address space</p>
                            <p><strong>Read/Write Bits:</strong> Control access permissions</p>
                            <p><strong>Execute Bit:</strong> Allow or prevent code execution</p>
                            <p><strong>Modified Bit:</strong> Track if page has been written to</p>
                        </div>
                    </div>
                    <div class="arabic-content">
                        <h3>⚙️ متطلبات التنفيذ</h3>
                        <ul style="line-height: 2;">
                            <li><strong>كود قابل للإعادة:</strong> يجب ألا يعدل الكود نفسه أثناء التنفيذ</li>
                            <li><strong>التبعية الموضعية:</strong> يجب أن يكون الكود المشترك في نفس العنوان الافتراضي</li>
                            <li><strong>الحماية:</strong> الصفحات المشتركة محددة للقراءة فقط</li>
                            <li><strong>عد المراجع:</strong> تتبع كم عملية تستخدم كل صفحة مشتركة</li>
                        </ul>
                        
                        <h3>📊 بتات حماية الذاكرة</h3>
                        <div style="background: #fff3e0; padding: 15px; border-radius: 10px; border: 2px solid #ff9800; margin: 15px 0;">
                            <p><strong>بت صالح/غير صالح:</strong> يشير إذا كانت الصفحة في مساحة عناوين العملية</p>
                            <p><strong>بتات قراءة/كتابة:</strong> التحكم في أذونات الوصول</p>
                            <p><strong>بت التنفيذ:</strong> السماح أو منع تنفيذ الكود</p>
                            <p><strong>بت التعديل:</strong> تتبع إذا تم الكتابة على الصفحة</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 11: What is required for shared code pages? / ما المطلوب للصفحات المشتركة للكود؟
                        </div>
                        <div class="options" data-question="11">
                            <div class="option" data-answer="wrong">A) They can be at different logical addresses / يمكن أن تكون في عناوين منطقية مختلفة</div>
                            <div class="option" data-answer="correct">B) They must appear at the same logical address in all processes / يجب أن تظهر في نفس العنوان المنطقي في جميع العمليات</div>
                            <div class="option" data-answer="wrong">C) They must be writable / يجب أن تكون قابلة للكتابة</div>
                            <div class="option" data-answer="wrong">D) They can only be used by one process / يمكن استخدامها من عملية واحدة فقط</div>
                        </div>
                        <div class="result" id="result11"></div>
                    </div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
        </div>

        <!-- Overview Section -->
        <div id="overview" class="section active">
            <div class="topic-card">
                <h2 class="topic-title">Chapter Overview - نظرة عامة على الفصل</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🎯 Learning Objectives</h3>
                        <ul style="line-height: 2;">
                            <li><span class="super-important">Understand memory management strategies</span></li>
                            <li><span class="highlight">Learn address binding techniques</span></li>
                            <li><span class="highlight">Master logical vs physical addressing</span></li>
                            <li><span class="highlight">Explore MMU functionality</span></li>
                            <li><span class="highlight">Study dynamic loading and linking</span></li>
                            <li><span class="highlight">Understand swapping mechanisms</span></li>
                            <li><span class="highlight">Learn contiguous allocation methods</span></li>
                            <li><span class="highlight">Master paging concepts</span></li>
                            <li><span class="highlight">Understand segmentation</span></li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🎯 أهداف التعلم</h3>
                        <ul style="line-height: 2;">
                            <li><span class="super-important">فهم استراتيجيات إدارة الذاكرة</span></li>
                            <li><span class="highlight">تعلم تقنيات ربط العناوين</span></li>
                            <li><span class="highlight">إتقان العناوين المنطقية مقابل الفيزيائية</span></li>
                            <li><span class="highlight">استكشاف وظائف وحدة إدارة الذاكرة</span></li>
                            <li><span class="highlight">دراسة التحميل والربط الديناميكي</span></li>
                            <li><span class="highlight">فهم آليات التبديل</span></li>
                            <li><span class="highlight">تعلم طرق التخصيص المتجاور</span></li>
                            <li><span class="highlight">إتقان مفاهيم التصفح</span></li>
                            <li><span class="highlight">فهم التجزئة</span></li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>🏗️ Memory Management Overview / نظرة عامة على إدارة الذاكرة</h4>
                    <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin: 20px 0;">
                        <div class="memory-block os-block">Operating System<br>نظام التشغيل</div>
                        <div class="memory-block process-block">Process 1<br>العملية 1</div>
                        <div class="memory-block free-block">Free Space<br>مساحة فارغة</div>
                        <div class="memory-block process-block">Process 2<br>العملية 2</div>
                        <div class="memory-block free-block">Free Space<br>مساحة فارغة</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Background Section -->
        <div id="background" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Background - الخلفية</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>📖 Key Concepts</h3>
                        <p><span class="super-important">Program execution requires loading into memory</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Input Queue:</strong> Collection of processes waiting to be loaded</li>
                            <li><strong>Memory Allocation:</strong> Process must be placed within a process for execution</li>
                            <li><strong>Program Steps:</strong> User programs go through several steps before running</li>
                            <li><strong>Memory Management:</strong> Efficient use of memory resources</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>📖 المفاهيم الأساسية</h3>
                        <p><span class="super-important">تنفيذ البرنامج يتطلب تحميله في الذاكرة</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>طابور الإدخال:</strong> مجموعة العمليات المنتظرة للتحميل</li>
                            <li><strong>تخصيص الذاكرة:</strong> يجب وضع العملية في عملية للتنفيذ</li>
                            <li><strong>خطوات البرنامج:</strong> برامج المستخدم تمر بعدة خطوات قبل التشغيل</li>
                            <li><strong>إدارة الذاكرة:</strong> الاستخدام الفعال لموارد الذاكرة</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 1: What is the input queue? / ما هو طابور الإدخال؟
                        </div>
                        <div class="options" data-question="1">
                            <div class="option" data-answer="wrong">A) A data structure for CPU scheduling / هيكل بيانات لجدولة المعالج</div>
                            <div class="option" data-answer="correct">B) Collection of processes waiting to be loaded into memory / مجموعة العمليات المنتظرة للتحميل في الذاكرة</div>
                            <div class="option" data-answer="wrong">C) A memory allocation algorithm / خوارزمية تخصيص ذاكرة</div>
                            <div class="option" data-answer="wrong">D) A type of cache memory / نوع من ذاكرة التخزين المؤقت</div>
                        </div>
                        <div class="result" id="result1"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Address Binding Section -->
        <div id="binding" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Address Binding - ربط العناوين</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🔗 Three Types of Address Binding</h3>
                        <div class="super-important">Address binding can happen at three different stages</div>
                        <ol style="margin-top: 15px; line-height: 2;">
                            <li><strong>Compile Time:</strong> If memory location known a priori, absolute code generated</li>
                            <li><strong>Load Time:</strong> Must generate relocatable code if location unknown at compile time</li>
                            <li><strong>Execution Time:</strong> Binding delayed until run time if process can be moved during execution</li>
                        </ol>
                    </div>
                    <div class="arabic-content">
                        <h3>🔗 ثلاثة أنواع من ربط العناوين</h3>
                        <div class="super-important">ربط العناوين يمكن أن يحدث في ثلاث مراحل مختلفة</div>
                        <ol style="margin-top: 15px; line-height: 2;">
                            <li><strong>وقت الترجمة:</strong> إذا كان موقع الذاكرة معروف مسبقاً، يتم توليد كود مطلق</li>
                            <li><strong>وقت التحميل:</strong> يجب توليد كود قابل للنقل إذا كان الموقع غير معروف وقت الترجمة</li>
                            <li><strong>وقت التنفيذ:</strong> يتأخر الربط حتى وقت التشغيل إذا كان يمكن نقل العملية أثناء التنفيذ</li>
                        </ol>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>⏰ Address Binding Timeline / جدول ربط العناوين الزمني</h4>
                    <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #ff9a56 0%, #ff6347 100%);">Compile Time<br>وقت الترجمة</div>
                            <p style="margin-top: 10px;">Absolute Code<br>كود مطلق</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);">Load Time<br>وقت التحميل</div>
                            <p style="margin-top: 10px;">Relocatable Code<br>كود قابل للنقل</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">Execution Time<br>وقت التنفيذ</div>
                            <p style="margin-top: 10px;">Dynamic Binding<br>ربط ديناميكي</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 2: When does compile-time binding occur? / متى يحدث ربط وقت الترجمة؟
                        </div>
                        <div class="options" data-question="2">
                            <div class="option" data-answer="correct">A) When memory location is known in advance / عندما يكون موقع الذاكرة معروف مسبقاً</div>
                            <div class="option" data-answer="wrong">B) When the process is loaded into memory / عندما يتم تحميل العملية في الذاكرة</div>
                            <div class="option" data-answer="wrong">C) During program execution / أثناء تنفيذ البرنامج</div>
                            <div class="option" data-answer="wrong">D) When memory is allocated dynamically / عندما يتم تخصيص الذاكرة ديناميكياً</div>
                        </div>
                        <div class="result" id="result2"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logical vs Physical Section -->
        <div id="logical-physical" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Logical vs Physical Address Space</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🧠 Address Space Concepts</h3>
                        <p><span class="super-important">Central concept: Logical address space bound to separate physical address space</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Logical Address:</strong> Generated by CPU (virtual address)</li>
                            <li><strong>Physical Address:</strong> Address seen by memory unit</li>
                            <li><strong>Same in:</strong> Compile-time and load-time binding</li>
                            <li><strong>Different in:</strong> Execution-time binding</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🧠 مفاهيم مساحة العناوين</h3>
                        <p><span class="super-important">المفهوم المركزي: مساحة العناوين المنطقية مربوطة بمساحة عناوين فيزيائية منفصلة</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>العنوان المنطقي:</strong> مولد بواسطة المعالج (عنوان افتراضي)</li>
                            <li><strong>العنوان الفيزيائي:</strong> عنوان تراه وحدة الذاكرة</li>
                            <li><strong>متماثلان في:</strong> ربط وقت الترجمة ووقت التحميل</li>
                            <li><strong>مختلفان في:</strong> ربط وقت التنفيذ</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>🔄 Address Translation / ترجمة العناوين</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);">CPU<br>المعالج</div>
                            <p>Generates Logical Address<br>يولد العنوان المنطقي</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">MMU<br>وحدة إدارة الذاكرة</div>
                            <p>Translates Address<br>يترجم العنوان</p>
                        </div>
                        <div style="text-align: center;">
                            <div class="memory-block" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">Memory<br>الذاكرة</div>
                            <p>Receives Physical Address<br>يستقبل العنوان الفيزيائي</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 3: What is a logical address? / ما هو العنوان المنطقي؟
                        </div>
                        <div class="options" data-question="3">
                            <div class="option" data-answer="wrong">A) Address seen by memory unit / عنوان تراه وحدة الذاكرة</div>
                            <div class="option" data-answer="correct">B) Address generated by CPU, also called virtual address / عنوان مولد بواسطة المعالج، يسمى أيضاً عنوان افتراضي</div>
                            <div class="option" data-answer="wrong">C) Physical location in memory / موقع فيزيائي في الذاكرة</div>
                            <div class="option" data-answer="wrong">D) Address used by operating system / عنوان يستخدمه نظام التشغيل</div>
                        </div>
                        <div class="result" id="result3"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MMU Section -->
        <div id="mmu" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Memory Management Unit (MMU)</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>⚙️ MMU Functionality</h3>
                        <p><span class="super-important">Hardware device that maps virtual to physical addresses</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Relocation Register:</strong> Added to every logical address</li>
                            <li><strong>Limit Register:</strong> Ensures address is within bounds</li>
                            <li><strong>Address Translation:</strong> Logical → Physical mapping</li>
                            <li><strong>Protection:</strong> Prevents invalid memory access</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>⚙️ وظائف وحدة إدارة الذاكرة</h3>
                        <p><span class="super-important">جهاز أجهزة يربط العناوين الافتراضية بالفيزيائية</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>سجل النقل:</strong> يضاف لكل عنوان منطقي</li>
                            <li><strong>سجل الحد:</strong> يضمن أن العنوان ضمن الحدود</li>
                            <li><strong>ترجمة العناوين:</strong> ربط منطقي ← فيزيائي</li>
                            <li><strong>الحماية:</strong> يمنع الوصول غير الصالح للذاكرة</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>🔧 MMU Operation Example / مثال على عمل وحدة إدارة الذاكرة</h4>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
                            <div style="text-align: center;">
                                <div class="memory-block" style="background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%); font-size: 0.9em;">Logical: 346<br>منطقي: 346</div>
                            </div>
                            <div style="text-align: center; font-size: 1.5em; color: #667eea;">+</div>
                            <div style="text-align: center;">
                                <div class="memory-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); font-size: 0.9em;">Base: 14000<br>قاعدة: 14000</div>
                            </div>
                            <div style="text-align: center; font-size: 1.5em; color: #667eea;">=</div>
                            <div style="text-align: center;">
                                <div class="memory-block" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); font-size: 0.9em;">Physical: 14346<br>فيزيائي: 14346</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 4: What does MMU stand for? / ماذا تعني MMU؟
                        </div>
                        <div class="options" data-question="4">
                            <div class="option" data-answer="wrong">A) Multiple Memory Unit / وحدة ذاكرة متعددة</div>
                            <div class="option" data-answer="correct">B) Memory Management Unit / وحدة إدارة الذاكرة</div>
                            <div class="option" data-answer="wrong">C) Main Memory Unit / وحدة الذاكرة الرئيسية</div>
                            <div class="option" data-answer="wrong">D) Memory Mapping Unit / وحدة ربط الذاكرة</div>
                        </div>
                        <div class="result" id="result4"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dynamic Loading Section -->
        <div id="dynamic-loading" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Dynamic Loading & Linking</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>📦 Dynamic Loading</h3>
                        <p><span class="super-important">Routine is not loaded until it is called</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Better Utilization:</strong> Unused routines never loaded</li>
                            <li><strong>Useful for:</strong> Large amounts of infrequently used code</li>
                            <li><strong>No OS Support:</strong> Implemented through program design</li>
                        </ul>
                        
                        <h3>🔗 Dynamic Linking</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Linking Postponed:</strong> Until execution time</li>
                            <li><strong>Stub:</strong> Small code to locate library routine</li>
                            <li><strong>OS Required:</strong> To check routine location</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>📦 التحميل الديناميكي</h3>
                        <p><span class="super-important">لا يتم تحميل الروتين حتى يتم استدعاؤه</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>استغلال أفضل:</strong> الروتينات غير المستخدمة لا تحمل أبداً</li>
                            <li><strong>مفيد لـ:</strong> كميات كبيرة من الكود نادر الاستخدام</li>
                            <li><strong>لا دعم نظام تشغيل:</strong> ينفذ من خلال تصميم البرنامج</li>
                        </ul>
                        
                        <h3>🔗 الربط الديناميكي</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>تأجيل الربط:</strong> حتى وقت التنفيذ</li>
                            <li><strong>عقدة:</strong> كود صغير لتحديد موقع روتين المكتبة</li>
                            <li><strong>نظام التشغيل مطلوب:</strong> للتحقق من موقع الروتين</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 5: What is dynamic loading? / ما هو التحميل الديناميكي؟
                        </div>
                        <div class="options" data-question="5">
                            <div class="option" data-answer="wrong">A) Loading all routines at program start / تحميل جميع الروتينات عند بدء البرنامج</div>
                            <div class="option" data-answer="correct">B) Loading routines only when they are called / تحميل الروتينات فقط عند استدعائها</div>
                            <div class="option" data-answer="wrong">C) Loading programs into dynamic memory / تحميل البرامج في ذاكرة ديناميكية</div>
                            <div class="option" data-answer="wrong">D) A type of memory allocation / نوع من تخصيص الذاكرة</div>
                        </div>
                        <div class="result" id="result5"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Swapping Section -->
        <div id="swapping" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Swapping - التبديل</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🔄 Swapping Mechanism</h3>
                        <p><span class="super-important">Process can be swapped temporarily out of memory to backing store</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Backing Store:</strong> Fast disk to accommodate memory images</li>
                            <li><strong>Roll Out/Roll In:</strong> Priority-based swapping variant</li>
                            <li><strong>Transfer Time:</strong> Major part of swap time</li>
                            <li><strong>Direct Access:</strong> Must provide direct access to memory images</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🔄 آلية التبديل</h3>
                        <p><span class="super-important">يمكن تبديل العملية مؤقتاً خارج الذاكرة إلى مخزن الدعم</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>مخزن الدعم:</strong> قرص سريع لاستيعاب صور الذاكرة</li>
                            <li><strong>إخراج/إدخال:</strong> متغير تبديل قائم على الأولوية</li>
                            <li><strong>وقت النقل:</strong> الجزء الأكبر من وقت التبديل</li>
                            <li><strong>الوصول المباشر:</strong> يجب توفير وصول مباشر لصور الذاكرة</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>💽 Swapping Process / عملية التبديل</h4>
                    <div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; margin: 20px 0; align-items: center;">
                        <div style="text-align: center;">
                            <h5>Main Memory<br>الذاكرة الرئيسية</h5>
                            <div class="memory-block os-block" style="margin: 5px 0;">OS / نظام التشغيل</div>
                            <div class="memory-block process-block" style="margin: 5px 0;">Process A</div>
                            <div class="memory-block free-block" style="margin: 5px 0;">Free / فارغ</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #667eea;">⇄</div>
                            <p>Swap Out / Swap In<br>إخراج / إدخال</p>
                        </div>
                        <div style="text-align: center;">
                            <h5>Backing Store<br>مخزن الدعم</h5>
                            <div class="memory-block" style="background: linear-gradient(135deg, #95e1d3 0%, #fce38a 100%); color: #333; margin: 5px 0;">Process B</div>
                            <div class="memory-block" style="background: linear-gradient(135deg, #95e1d3 0%, #fce38a 100%); color: #333; margin: 5px 0;">Process C</div>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 6: What is backing store? / ما هو مخزن الدعم؟
                        </div>
                        <div class="options" data-question="6">
                            <div class="option" data-answer="wrong">A) Primary memory for active processes / ذاكرة أولية للعمليات النشطة</div>
                            <div class="option" data-answer="correct">B) Fast disk to accommodate copies of memory images / قرص سريع لاستيعاب نسخ من صور الذاكرة</div>
                            <div class="option" data-answer="wrong">C) Cache memory for frequently used data / ذاكرة تخزين مؤقت للبيانات كثيرة الاستخدام</div>
                            <div class="option" data-answer="wrong">D) Backup storage for system files / تخزين احتياطي لملفات النظام</div>
                        </div>
                        <div class="result" id="result6"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contiguous Allocation Section -->
        <div id="contiguous" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Contiguous Allocation - التخصيص المتجاور</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>📏 Contiguous Memory Allocation</h3>
                        <p><span class="super-important">Memory divided into two partitions: OS and user processes</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Fixed Partitioning:</strong> OS in low memory, user processes in high memory</li>
                            <li><strong>Base & Limit Registers:</strong> Protection mechanism</li>
                            <li><strong>Multiple Partition:</strong> Holes of various sizes scattered throughout</li>
                        </ul>
                        
                        <h3>🎯 Allocation Algorithms</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>First Fit:</strong> Allocate first hole big enough</li>
                            <li><strong>Best Fit:</strong> Allocate smallest hole big enough</li>
                            <li><strong>Worst Fit:</strong> Allocate largest hole</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>📏 تخصيص الذاكرة المتجاورة</h3>
                        <p><span class="super-important">الذاكرة مقسمة إلى قسمين: نظام التشغيل وعمليات المستخدم</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>التقسيم الثابت:</strong> نظام التشغيل في ذاكرة منخفضة، عمليات المستخدم في عالية</li>
                            <li><strong>سجلات القاعدة والحد:</strong> آلية حماية</li>
                            <li><strong>أقسام متعددة:</strong> ثقوب بأحجام مختلفة متناثرة</li>
                        </ul>
                        
                        <h3>🎯 خوارزميات التخصيص</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>أول مناسب:</strong> تخصيص أول ثقب كبير بما يكفي</li>
                            <li><strong>أفضل مناسب:</strong> تخصيص أصغر ثقب كبير بما يكفي</li>
                            <li><strong>أسوأ مناسب:</strong> تخصيص أكبر ثقب</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>🧩 Memory Allocation Strategies / استراتيجيات تخصيص الذاكرة</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <h5>First Fit / أول مناسب</h5>
                            <div style="border: 2px solid #667eea; padding: 10px; border-radius: 8px;">
                                <div class="memory-block" style="background: #ff6b6b; margin: 2px 0; font-size: 0.8em;">100K</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 2px 0; font-size: 0.8em;">250K ✓</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 2px 0; font-size: 0.8em;">200K</div>
                            </div>
                            <p style="font-size: 0.9em; margin-top: 5px;">Request: 200K<br>طلب: 200K</p>
                        </div>
                        <div style="text-align: center;">
                            <h5>Best Fit / أفضل مناسب</h5>
                            <div style="border: 2px solid #667eea; padding: 10px; border-radius: 8px;">
                                <div class="memory-block" style="background: #ff6b6b; margin: 2px 0; font-size: 0.8em;">100K</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 2px 0; font-size: 0.8em;">250K</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 2px 0; font-size: 0.8em;">210K ✓</div>
                            </div>
                            <p style="font-size: 0.9em; margin-top: 5px;">Request: 200K<br>طلب: 200K</p>
                        </div>
                        <div style="text-align: center;">
                            <h5>Worst Fit / أسوأ مناسب</h5>
                            <div style="border: 2px solid #667eea; padding: 10px; border-radius: 8px;">
                                <div class="memory-block" style="background: #ff6b6b; margin: 2px 0; font-size: 0.8em;">100K</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 2px 0; font-size: 0.8em;">300K ✓</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 2px 0; font-size: 0.8em;">210K</div>
                            </div>
                            <p style="font-size: 0.9em; margin-top: 5px;">Request: 200K<br>طلب: 200K</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 7: Which allocation algorithm is generally fastest? / أي خوارزمية تخصيص أسرع عموماً؟
                        </div>
                        <div class="options" data-question="7">
                            <div class="option" data-answer="correct">A) First Fit / أول مناسب</div>
                            <div class="option" data-answer="wrong">B) Best Fit / أفضل مناسب</div>
                            <div class="option" data-answer="wrong">C) Worst Fit / أسوأ مناسب</div>
                            <div class="option" data-answer="wrong">D) All are equally fast / جميعها متساوية السرعة</div>
                        </div>
                        <div class="result" id="result7"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Paging Section -->
        <div id="paging" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Paging - التصفح</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>📄 Paging Concept</h3>
                        <p><span class="super-important">Logical address space can be noncontiguous; process allocated physical memory when available</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Frames:</strong> Fixed-sized blocks of physical memory (512-8192 bytes)</li>
                            <li><strong>Pages:</strong> Logical memory blocks of same size as frames</li>
                            <li><strong>Page Table:</strong> Translates logical to physical addresses</li>
                            <li><strong>Internal Fragmentation:</strong> Unused space within pages</li>
                        </ul>
                        
                        <h3>🔢 Address Translation</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Page Number (p):</strong> Index into page table</li>
                            <li><strong>Page Offset (d):</strong> Combined with base address</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>📄 مفهوم التصفح</h3>
                        <p><span class="super-important">مساحة العناوين المنطقية يمكن أن تكون غير متجاورة؛ العملية تخصص ذاكرة فيزيائية عند التوفر</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>الإطارات:</strong> كتل ثابتة الحجم من الذاكرة الفيزيائية (512-8192 بايت)</li>
                            <li><strong>الصفحات:</strong> كتل ذاكرة منطقية بنفس حجم الإطارات</li>
                            <li><strong>جدول الصفحات:</strong> يترجم العناوين المنطقية إلى فيزيائية</li>
                            <li><strong>التجزؤ الداخلي:</strong> مساحة غير مستخدمة داخل الصفحات</li>
                        </ul>
                        
                        <h3>🔢 ترجمة العناوين</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>رقم الصفحة (p):</strong> فهرس في جدول الصفحات</li>
                            <li><strong>إزاحة الصفحة (d):</strong> يدمج مع العنوان الأساسي</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>📋 Page Table Example / مثال جدول الصفحات</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0; align-items: start;">
                        <div style="text-align: center;">
                            <h5>Logical Memory<br>الذاكرة المنطقية</h5>
                            <div class="page-block" style="margin: 3px 0; font-size: 0.9em;">Page 0 / صفحة 0</div>
                            <div class="page-block" style="margin: 3px 0; font-size: 0.9em;">Page 1 / صفحة 1</div>
                            <div class="page-block" style="margin: 3px 0; font-size: 0.9em;">Page 2 / صفحة 2</div>
                            <div class="page-block" style="margin: 3px 0; font-size: 0.9em;">Page 3 / صفحة 3</div>
                        </div>
                        <div style="text-align: center;">
                            <h5>Page Table<br>جدول الصفحات</h5>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 8px; border: 2px solid #667eea;">
                                <div style="margin: 3px 0;">0 → 1</div>
                                <div style="margin: 3px 0;">1 → 4</div>
                                <div style="margin: 3px 0;">2 → 3</div>
                                <div style="margin: 3px 0;">3 → 7</div>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <h5>Physical Memory<br>الذاكرة الفيزيائية</h5>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Frame 0</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Page 0</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Frame 2</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Page 2</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Page 1</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Frame 5</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Frame 6</div>
                            <div class="frame-block" style="margin: 3px 0; font-size: 0.9em;">Page 3</div>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 8: What is a page in paging? / ما هي الصفحة في التصفح؟
                        </div>
                        <div class="options" data-question="8">
                            <div class="option" data-answer="wrong">A) Physical memory block / كتلة ذاكرة فيزيائية</div>
                            <div class="option" data-answer="correct">B) Fixed-size block of logical memory / كتلة ثابتة الحجم من الذاكرة المنطقية</div>
                            <div class="option" data-answer="wrong">C) Translation table entry / مدخل جدول الترجمة</div>
                            <div class="option" data-answer="wrong">D) Memory management algorithm / خوارزمية إدارة ذاكرة</div>
                        </div>
                        <div class="result" id="result8"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Segmentation Section -->
        <div id="segmentation" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Segmentation - التجزئة</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🧩 Segmentation Concept</h3>
                        <p><span class="super-important">Memory management scheme that supports user view of memory</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>Logical Units:</strong> Program divided into meaningful segments</li>
                            <li><strong>Variable Size:</strong> Segments can be different sizes</li>
                            <li><strong>User View:</strong> Matches programmer's view of program</li>
                        </ul>
                        
                        <h3>📚 Segment Types</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li>Main program, procedures, functions, methods</li>
                            <li>Objects, local/global variables</li>
                            <li>Common blocks, stacks, symbol tables, arrays</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🧩 مفهوم التجزئة</h3>
                        <p><span class="super-important">مخطط إدارة ذاكرة يدعم رؤية المستخدم للذاكرة</span></p>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li><strong>وحدات منطقية:</strong> البرنامج مقسم إلى أجزاء ذات معنى</li>
                            <li><strong>حجم متغير:</strong> الأجزاء يمكن أن تكون بأحجام مختلفة</li>
                            <li><strong>رؤية المستخدم:</strong> يطابق رؤية المبرمج للبرنامج</li>
                        </ul>
                        
                        <h3>📚 أنواع الأجزاء</h3>
                        <ul style="margin-top: 15px; line-height: 2;">
                            <li>البرنامج الرئيسي، الإجراءات، الدوال، الطرق</li>
                            <li>الكائنات، المتغيرات المحلية/العامة</li>
                            <li>الكتل المشتركة، المكدسات، جداول الرموز، المصفوفات</li>
                        </ul>
                    </div>
                </div>

                <div class="memory-diagram">
                    <h4>🗂️ Segmentation vs Paging / التجزئة مقابل التصفح</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <h5>Segmentation / التجزئة</h5>
                            <div style="border: 2px solid #667eea; padding: 15px; border-radius: 10px;">
                                <div class="memory-block" style="background: #ff6b6b; margin: 5px 0; font-size: 0.8em;">Main Program<br>البرنامج الرئيسي</div>
                                <div class="memory-block" style="background: #4ecdc4; margin: 5px 0; font-size: 0.8em;">Function A<br>دالة A</div>
                                <div class="memory-block" style="background: #95e1d3; color: #333; margin: 5px 0; font-size: 0.8em;">Variables<br>متغيرات</div>
                                <div class="memory-block" style="background: #667eea; margin: 5px 0; font-size: 0.8em;">Stack<br>مكدس</div>
                            </div>
                            <p style="font-size: 0.9em; margin-top: 10px;">Variable Size<br>حجم متغير</p>
                        </div>
                        <div style="text-align: center;">
                            <h5>Paging / التصفح</h5>
                            <div style="border: 2px solid #667eea; padding: 15px; border-radius: 10px;">
                                <div class="memory-block" style="background: #f093fb; margin: 5px 0; font-size: 0.8em;">Page 0<br>صفحة 0</div>
                                <div class="memory-block" style="background: #f093fb; margin: 5px 0; font-size: 0.8em;">Page 1<br>صفحة 1</div>
                                <div class="memory-block" style="background: #f093fb; margin: 5px 0; font-size: 0.8em;">Page 2<br>صفحة 2</div>
                                <div class="memory-block" style="background: #f093fb; margin: 5px 0; font-size: 0.8em;">Page 3<br>صفحة 3</div>
                            </div>
                            <p style="font-size: 0.9em; margin-top: 10px;">Fixed Size<br>حجم ثابت</p>
                        </div>
                    </div>
                </div>

                <div class="quiz-section">
                    <div class="quiz-container">
                        <div class="question">
                            Question 9: How does segmentation differ from paging? / كيف تختلف التجزئة عن التصفح؟
                        </div>
                        <div class="options" data-question="9">
                            <div class="option" data-answer="wrong">A) Segmentation uses fixed-size blocks / التجزئة تستخدم كتل ثابتة الحجم</div>
                            <div class="option" data-answer="correct">B) Segmentation uses variable-size logical units / التجزئة تستخدم وحدات منطقية متغيرة الحجم</div>
                            <div class="option" data-answer="wrong">C) Segmentation is faster than paging / التجزئة أسرع من التصفح</div>
                            <div class="option" data-answer="wrong">D) There is no difference / لا يوجد فرق</div>
                        </div>
                        <div class="result" id="result9"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Quiz Section -->
        <div id="final-quiz" class="section">
            <div class="topic-card">
                <h2 class="topic-title">Final Comprehensive Exam</h2>
                
                <div class="bilingual-content">
                    <div class="english-content">
                        <h3>🎯 Final Examination Instructions</h3>
                        <ul style="line-height: 2;">
                            <li><strong>25 comprehensive questions</strong> covering all memory management topics</li>
                            <li><strong>Mixed question types</strong> with bilingual options</li>
                            <li><strong>Topics covered:</strong> Address binding, MMU, paging, segmentation, allocation</li>
                            <li><strong>Time limit:</strong> Take your time to read carefully</li>
                            <li><strong>Scoring:</strong> Each question worth equal points</li>
                        </ul>
                    </div>
                    <div class="arabic-content">
                        <h3>🎯 تعليمات الامتحان النهائي</h3>
                        <ul style="line-height: 2;">
                            <li><strong>25 سؤال شامل</strong> يغطي جميع موضوعات إدارة الذاكرة</li>
                            <li><strong>أنواع أسئلة مختلطة</strong> مع خيارات ثنائية اللغة</li>
                            <li><strong>المواضيع المغطاة:</strong> ربط العناوين، وحدة إدارة الذاكرة، التصفح، التجزئة، التخصيص</li>
                            <li><strong>حد زمني:</strong> خذ وقتك للقراءة بعناية</li>
                            <li><strong>النقاط:</strong> كل سؤال يستحق نقاط متساوية</li>
                        </ul>
                    </div>
                </div>

                <div id="final-quiz-content"></div>

                <div style="text-align: center; margin: 30px 0;">
                    <button class="nav-btn" id="start-final-btn" style="font-size: 1.2em; padding: 20px 40px;">🎯 Start Final Exam / ابدأ الامتحان النهائي</button>
                    <button class="nav-btn" id="submit-final-btn" style="display: none; font-size: 1.2em; padding: 20px 40px;">📊 Submit Exam / أرسل الامتحان</button>
                    <button class="nav-btn" id="reset-final-btn" style="display: none; font-size: 1.2em; padding: 20px 40px;">🔄 Retake Exam / إعادة الامتحان</button>
                </div>

                <div id="final-results" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        let totalScore = 0;
        let totalQuestions = 0;
        let finalQuizQuestions = [];
        let finalAnswers = {};

        function showSection(sectionId, buttonElement) {
            try {
                // Hide all sections
                const sections = document.querySelectorAll('.section');
                sections.forEach(section => section.classList.remove('active'));
                
                // Show selected section
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }
                
                // Update navigation
                const buttons = document.querySelectorAll('.nav-btn');
                buttons.forEach(btn => btn.classList.remove('active'));
                
                if (buttonElement && buttonElement.classList.contains('nav-btn')) {
                    buttonElement.classList.add('active');
                }
                
                updateProgress();
            } catch (error) {
                console.error('Error in showSection:', error);
            }
        }

        function updateProgress() {
            try {
                const progress = totalQuestions > 0 ? (totalScore / totalQuestions) * 100 : 0;
                const progressBar = document.getElementById('progress');
                const scoreDisplay = document.getElementById('scoreDisplay');
                const percentageDisplay = document.getElementById('percentageDisplay');
                
                if (progressBar) progressBar.style.width = progress + '%';
                if (scoreDisplay) scoreDisplay.textContent = `Score: ${totalScore}/${totalQuestions}`;
                if (percentageDisplay) percentageDisplay.textContent = `${progress.toFixed(1)}%`;
            } catch (error) {
                console.error('Error in updateProgress:', error);
            }
        }

        function toggleCollapsible(element) {
            element.classList.toggle('active');
        }

        // Quiz functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('option')) {
                handleAnswer(e);
            }
        });

        function handleAnswer(e) {
            const optionsContainer = e.target.closest('.options');
            if (!optionsContainer) return;
            
            const question = optionsContainer.dataset.question;
            const options = optionsContainer.querySelectorAll('.option');
            const result = document.getElementById('result' + question);
            
            if (!result) return;
            
            // Remove previous selections
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark selected option
            e.target.classList.add('selected');
            
            // Check answer
            const isCorrect = e.target.dataset.answer === 'correct';
            e.target.classList.add(isCorrect ? 'correct' : 'incorrect');
            
            // Show result
            showResult(result, isCorrect, question);
            
            // Show correct answer if wrong
            if (!isCorrect) {
                options.forEach(opt => {
                    if (opt.dataset.answer === 'correct') {
                        opt.classList.add('correct');
                    }
                });
            }
        }

        function showResult(resultElement, isCorrect, questionNumber) {
            if (!resultElement) return;
            
            resultElement.style.display = 'block';
            resultElement.className = 'result ' + (isCorrect ? 'correct' : 'incorrect');
            
            setTimeout(() => {
                resultElement.classList.add('show');
            }, 10);
            
            const messages = {
                correct: [
                    '✅ Excellent! / ممتاز!',
                    '🎉 Outstanding! / رائع!', 
                    '⭐ Perfect! / مثالي!',
                    '🚀 Great job! / عمل رائع!',
                    '💯 Correct! / صحيح!',
                    '🏆 Well done! / أحسنت!'
                ],
                incorrect: [
                    '❌ Not quite right / ليس صحيحاً تماماً',
                    '🤔 Review the material / راجع المادة',
                    '📚 Study more carefully / ادرس بعناية أكثر',
                    '💡 Check the explanation / تحقق من الشرح',
                    '🔍 Look at the content again / انظر للمحتوى مرة أخرى'
                ]
            };
            
            const messageArray = isCorrect ? messages.correct : messages.incorrect;
            const randomMessage = messageArray[Math.floor(Math.random() * messageArray.length)];
            resultElement.textContent = randomMessage;
            
            // Update score if not answered before
            const container = resultElement.closest('.quiz-container');
            if (container && !container.dataset.answered) {
                totalQuestions++;
                if (isCorrect) totalScore++;
                container.dataset.answered = 'true';
                updateProgress();
            }
        }

        // Final Quiz Functions
        function generateFinalQuiz() {
            const questions = [
                {
                    question: "What is the main purpose of memory management? / ما هو الهدف الرئيسي من إدارة الذاكرة؟",
                    options: [
                        "To increase CPU speed / لزيادة سرعة المعالج",
                        "To efficiently allocate and manage memory resources / لتخصيص وإدارة موارد الذاكرة بكفاءة", 
                        "To improve disk storage / لتحسين تخزين القرص",
                        "To enhance network performance / لتحسين أداء الشبكة"
                    ],
                    correct: 1
                },
                {
                    question: "Which address binding occurs when memory location is known at compile time? / أي ربط عناوين يحدث عندما يكون موقع الذاكرة معروف وقت الترجمة؟",
                    options: [
                        "Load-time binding / ربط وقت التحميل",
                        "Execution-time binding / ربط وقت التنفيذ",
                        "Compile-time binding / ربط وقت الترجمة",
                        "Runtime binding / ربط وقت التشغيل"
                    ],
                    correct: 2
                },
                {
                    question: "What does MMU stand for? / ماذا تعني MMU؟",
                    options: [
                        "Multiple Memory Unit / وحدة ذاكرة متعددة",
                        "Memory Management Unit / وحدة إدارة الذاكرة",
                        "Main Memory Unit / وحدة الذاكرة الرئيسية", 
                        "Memory Mapping Unit / وحدة ربط الذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "In dynamic loading, when is a routine loaded? / في التحميل الديناميكي، متى يتم تحميل الروتين؟",
                    options: [
                        "At program start / عند بدء البرنامج",
                        "Only when it is called / فقط عند استدعائه",
                        "During compilation / أثناء الترجمة",
                        "At system boot / عند إقلاع النظام"
                    ],
                    correct: 1
                },
                {
                    question: "What is backing store in swapping? / ما هو مخزن الدعم في التبديل؟",
                    options: [
                        "Primary memory / ذاكرة أولية",
                        "Cache memory / ذاكرة تخزين مؤقت",
                        "Fast disk to store memory images / قرص سريع لتخزين صور الذاكرة",
                        "CPU registers / سجلات المعالج"
                    ],
                    correct: 2
                },
                // Add more questions...
                {
                    question: "Which allocation algorithm allocates the first hole big enough? / أي خوارزمية تخصيص تخصص أول ثقب كبير بما يكفي؟",
                    options: [
                        "Best fit / أفضل مناسب",
                        "Worst fit / أسوأ مناسب", 
                        "First fit / أول مناسب",
                        "Next fit / التالي المناسب"
                    ],
                    correct: 2
                },
                {
                    question: "In paging, what is a frame? / في التصفح، ما هو الإطار؟",
                    options: [
                        "Logical memory block / كتلة ذاكرة منطقية",
                        "Physical memory block / كتلة ذاكرة فيزيائية", 
                        "Page table entry / مدخل جدول الصفحة",
                        "Memory address / عنوان ذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "What does segmentation support? / ماذا تدعم التجزئة؟",
                    options: [
                        "Fixed-size memory blocks / كتل ذاكرة ثابتة الحجم",
                        "User view of memory / رؤية المستخدم للذاكرة",
                        "Only system programs / البرامج النظامية فقط", 
                        "Cache management / إدارة التخزين المؤقت"
                    ],
                    correct: 1
                },
                {
                    question: "Which has better memory utilization in contiguous allocation? / أي منها له استغلال أفضل للذاكرة في التخصيص المتجاور؟",
                    options: [
                        "Worst fit / أسوأ مناسب",
                        "First fit and best fit / أول مناسب وأفضل مناسب",
                        "Only first fit / أول مناسب فقط",
                        "All are equal / جميعها متساوية"
                    ],
                    correct: 1
                },
                {
                    question: "What eliminates external fragmentation? / ما الذي يلغي التجزؤ الخارجي؟",
                    options: [
                        "Contiguous allocation / التخصيص المتجاور",
                        "Best fit algorithm / خوارزمية أفضل مناسب",
                        "Paging / التصفح",
                        "Worst fit algorithm / خوارزمية أسوأ مناسب"
                    ],
                    correct: 2
                },
                {
                    question: "In hierarchical paging, what is the page directory? / في التصفح الهرمي، ما هو دليل الصفحات؟",
                    options: [
                        "A page that points to actual data / صفحة تشير للبيانات الفعلية",
                        "A page that points to page tables / صفحة تشير لجداول الصفحات",
                        "A cache for frequently used pages / تخزين مؤقت للصفحات كثيرة الاستخدام",
                        "A backup copy of pages / نسخة احتياطية من الصفحات"
                    ],
                    correct: 1
                },
                {
                    question: "Which page table structure is best for sparse address spaces? / أي هيكل جدول صفحات أفضل للمساحات المبعثرة؟",
                    options: [
                        "Linear page tables / جداول الصفحات الخطية",
                        "Hierarchical page tables / جداول الصفحات الهرمية",
                        "Hashed page tables / جداول الصفحات المهشورة",
                        "Inverted page tables / جداول الصفحات المعكوسة"
                    ],
                    correct: 2
                },
                {
                    question: "What is the main advantage of inverted page tables? / ما الميزة الرئيسية لجداول الصفحات المعكوسة؟",
                    options: [
                        "Faster address translation / ترجمة عناوين أسرع",
                        "Smaller page table size / حجم جدول صفحات أصغر",
                        "Better cache performance / أداء تخزين مؤقت أفضل",
                        "Easier implementation / تنفيذ أسهل"
                    ],
                    correct: 1
                },
                {
                    question: "What must shared code pages be? / ما الذي يجب أن تكون عليه صفحات الكود المشترك؟",
                    options: [
                        "Writable / قابلة للكتابة",
                        "Reentrant and read-only / قابلة للإعادة وللقراءة فقط",
                        "Executable only / للتنفيذ فقط",
                        "Private to each process / خاصة بكل عملية"
                    ],
                    correct: 1
                },
                {
                    question: "What is internal fragmentation? / ما هو التجزؤ الداخلي؟",
                    options: [
                        "Unused space between allocated blocks / مساحة غير مستخدمة بين الكتل المخصصة",
                        "Unused space within allocated blocks / مساحة غير مستخدمة داخل الكتل المخصصة",
                        "Memory leaks in programs / تسريبات ذاكرة في البرامج",
                        "Disk fragmentation / تجزؤ القرص"
                    ],
                    correct: 1
                },
                {
                    question: "In a two-level page table, what does the outer page table contain? / في جدول الصفحات ثنائي المستوى، ماذا يحتوي الجدول الخارجي؟",
                    options: [
                        "Physical frame numbers / أرقام الإطارات الفيزيائية",
                        "Pointers to inner page tables / مؤشرات لجداول الصفحات الداخلية",
                        "Virtual page numbers / أرقام الصفحات الافتراضية",
                        "Memory protection bits / بتات حماية الذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "What happens when a process requests memory in contiguous allocation? / ماذا يحدث عندما تطلب عملية ذاكرة في التخصيص المتجاور؟",
                    options: [
                        "Memory is allocated in any available location / يتم تخصيص الذاكرة في أي موقع متاح",
                        "Memory is allocated from a hole large enough to accommodate it / يتم تخصيص الذاكرة من ثقب كبير بما يكفي لاستيعابها",
                        "Process is swapped to disk / يتم تبديل العملية للقرص",
                        "Memory request is denied / يتم رفض طلب الذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "What is the valid/invalid bit used for? / لماذا يستخدم بت صالح/غير صالح؟",
                    options: [
                        "To indicate if page is in memory / للإشارة إذا كانت الصفحة في الذاكرة",
                        "To indicate if page is in process's logical address space / للإشارة إذا كانت الصفحة في مساحة عناوين العملية المنطقية",
                        "To indicate if page is read-only / للإشارة إذا كانت الصفحة للقراءة فقط",
                        "To indicate if page is shared / للإشارة إذا كانت الصفحة مشتركة"
                    ],
                    correct: 1
                },
                {
                    question: "Which statement about dynamic linking is correct? / أي عبارة عن الربط الديناميكي صحيحة؟",
                    options: [
                        "Linking occurs at compile time / الربط يحدث وقت الترجمة",
                        "Linking is postponed until execution time / الربط يؤجل حتى وقت التنفيذ",
                        "No operating system support needed / لا حاجة لدعم نظام التشغيل",
                        "Only works with static libraries / يعمل فقط مع المكتبات الثابتة"
                    ],
                    correct: 1
                },
                {
                    question: "What is a stub in dynamic linking? / ما هي العقدة في الربط الديناميكي؟",
                    options: [
                        "A backup copy of library / نسخة احتياطية من المكتبة",
                        "Small piece of code to locate library routine / قطعة صغيرة من الكود لتحديد موقع روتين المكتبة",
                        "Error handling mechanism / آلية معالجة الأخطاء",
                        "Memory allocation routine / روتين تخصيص ذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "What does 'roll out, roll in' refer to in swapping? / إلى ماذا يشير 'الإخراج، الإدخال' في التبديل؟",
                    options: [
                        "Random process selection / اختيار عملية عشوائي",
                        "Priority-based swapping variant / متغير تبديل قائم على الأولوية",
                        "Disk rotation mechanism / آلية دوران القرص",
                        "Memory encryption process / عملية تشفير الذاكرة"
                    ],
                    correct: 1
                },
                {
                    question: "In a 32-bit system with 4KB pages, how many entries are in the page table? / في نظام 32 بت مع صفحات 4KB، كم مدخل في جدول الصفحات؟",
                    options: [
                        "2^12 (4,096) / 2^12 (4,096)",
                        "2^16 (65,536) / 2^16 (65,536)",
                        "2^20 (1,048,576) / 2^20 (1,048,576)",
                        "2^24 (16,777,216) / 2^24 (16,777,216)"
                    ],
                    correct: 2
                },
                {
                    question: "What is the main benefit of using base and limit registers? / ما الفائدة الرئيسية من استخدام سجلات القاعدة والحد؟",
                    options: [
                        "Faster memory access / وصول أسرع للذاكرة",
                        "Memory protection and relocation / حماية الذاكرة والنقل",
                        "Reduced memory usage / استخدام ذاكرة أقل",
                        "Better cache performance / أداء تخزين مؤقت أفضل"
                    ],
                    correct: 1
                },
                {
                    question: "Which type of fragmentation does paging eliminate? / أي نوع من التجزؤ يلغيه التصفح؟",
                    options: [
                        "Internal fragmentation / التجزؤ الداخلي",
                        "External fragmentation / التجزؤ الخارجي",
                        "Both internal and external / كل من الداخلي والخارجي",
                        "Neither internal nor external / لا الداخلي ولا الخارجي"
                    ],
                    correct: 1
                },
                {
                    question: "What is the relationship between pages and frames? / ما العلاقة بين الصفحات والإطارات؟",
                    options: [
                        "Pages are larger than frames / الصفحات أكبر من الإطارات",
                        "Frames are larger than pages / الإطارات أكبر من الصفحات",
                        "Pages and frames are the same size / الصفحات والإطارات بنفس الحجم",
                        "Size relationship varies by system / علاقة الحجم تختلف حسب النظام"
                    ],
                    correct: 2
                }
            ];

            finalQuizQuestions = [...questions];
            finalAnswers = {};
            
            const quizContainer = document.getElementById('final-quiz-content');
            quizContainer.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-container';
                
                let questionHTML = `<div class="question">
                    Question ${index + 1}: ${q.question}
                </div>`;
                
                questionHTML += `<div class="options" data-question="final-${index}">
                    ${q.options.map((option, optIndex) => 
                        `<div class="option" data-answer="${optIndex}" onclick="selectFinalAnswer(${index}, ${optIndex})">${String.fromCharCode(65 + optIndex)}) ${option}</div>`
                    ).join('')}
                </div>`;
                
                questionHTML += `<div class="result" id="final-result${index}"></div>`;
                questionDiv.innerHTML = questionHTML;
                quizContainer.appendChild(questionDiv);
            });
            
            document.getElementById('start-final-btn').style.display = 'none';
            document.getElementById('submit-final-btn').style.display = 'inline-block';
        }

        function selectFinalAnswer(questionIndex, answer) {
            finalAnswers[questionIndex] = answer;
            
            // Visual feedback
            const options = document.querySelectorAll(`[data-question="final-${questionIndex}"] .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            if (options[answer]) {
                options[answer].classList.add('selected');
            }
        }

        function submitFinalQuiz() {
            let score = 0;
            const results = [];
            
            finalQuizQuestions.forEach((q, index) => {
                const userAnswer = finalAnswers[index];
                const isCorrect = userAnswer === q.correct;
                
                if (isCorrect) score++;
                
                results.push({
                    question: q.question,
                    userAnswer: userAnswer !== undefined ? q.options[userAnswer] : 'Not answered / لم يجب',
                    correctAnswer: q.options[q.correct],
                    isCorrect: isCorrect
                });
            });
            
            displayFinalResults(score, results);
        }

        function displayFinalResults(score, results) {
            const percentage = (score / finalQuizQuestions.length * 100).toFixed(1);
            let grade = '';
            let gradeColor = '';
            let feedback = '';
            
            if (percentage >= 95) { 
                grade = 'A+ Outstanding / ممتاز+'; 
                gradeColor = '#4caf50'; 
                feedback = '🎯 Perfect! You mastered memory management! / مثالي! لقد أتقنت إدارة الذاكرة!';
            }
            else if (percentage >= 90) { 
                grade = 'A Excellent / ممتاز'; 
                gradeColor = '#4caf50'; 
                feedback = '🌟 Excellent work! / عمل ممتاز!';
            }
            else if (percentage >= 80) { 
                grade = 'B+ Very Good / جيد جداً+'; 
                gradeColor = '#8bc34a'; 
                feedback = '👏 Very good understanding! / فهم جيد جداً!';
            }
            else if (percentage >= 70) { 
                grade = 'B Good / جيد'; 
                gradeColor = '#ffc107'; 
                feedback = '📚 Good work, review some concepts / عمل جيد، راجع بعض المفاهيم!';
            }
            else if (percentage >= 60) { 
                grade = 'C+ Satisfactory / مقبول+'; 
                gradeColor = '#ff9800'; 
                feedback = '📖 Keep studying! / استمر في الدراسة!';
            }
            else { 
                grade = 'C Needs Improvement / يحتاج تحسين'; 
                gradeColor = '#f44336'; 
                feedback = '🔄 More study needed / تحتاج دراسة أكثر!';
            }
            
            const resultsDiv = document.getElementById('final-results');
            resultsDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 30px; border-radius: 18px; margin: 25px 0; border: 3px solid #667eea; box-shadow: 0 10px 25px rgba(102, 126, 234, 0.1);">
                    <h3>🎯 Final Exam Results / نتائج الامتحان النهائي</h3>
                    <div style="text-align: center; margin: 25px 0;">
                        <div style="font-size: 3.5em; color: ${gradeColor}; margin-bottom: 15px; font-weight: bold;">
                            ${score}/${finalQuizQuestions.length}
                        </div>
                        <div style="font-size: 2.5em; margin: 15px 0; color: ${gradeColor}; font-weight: bold;">
                            ${percentage}%
                        </div>
                        <div style="font-size: 1.8em; margin: 15px 0; color: ${gradeColor}; font-weight: bold;">
                            ${grade}
                        </div>
                        <div style="font-size: 1.2em; margin: 20px 0; padding: 15px; background: rgba(${gradeColor === '#4caf50' ? '76, 175, 80' : gradeColor === '#8bc34a' ? '139, 195, 74' : gradeColor === '#ffc107' ? '255, 193, 7' : gradeColor === '#ff9800' ? '255, 152, 0' : '244, 67, 54'}, 0.1); border-radius: 10px;">
                            ${feedback}
                        </div>
                    </div>
                    
                    <div style="max-height: 400px; overflow-y: auto; margin-top: 15px;">
                        <h4>📋 Detailed Review:</h4>
                        ${results.map((result, index) => `
                            <div style="margin: 12px 0; padding: 18px; border-radius: 12px; background: ${result.isCorrect ? '#e8f5e8' : '#ffebee'}; border-left: 5px solid ${result.isCorrect ? '#4caf50' : '#f44336'};">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <strong>Q${index + 1}</strong>
                                    <span style="font-size: 1.4em;">${result.isCorrect ? '✅' : '❌'}</span>
                                </div>
                                <div style="margin: 8px 0; font-size: 0.9em;"><strong>Question:</strong> ${result.question}</div>
                                <div style="margin: 8px 0; font-size: 0.9em;"><strong>Your Answer:</strong> ${result.userAnswer}</div>
                                <div style="margin: 8px 0; font-size: 0.9em;"><strong>Correct Answer:</strong> ${result.correctAnswer}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    ${percentage >= 70 ? `
                        <div style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); border: 3px solid #4caf50; padding: 20px; border-radius: 15px; margin: 20px 0;">
                            <h4>🎉 Congratulations! تهانينا!</h4>
                            <p style="font-size: 1.1em; line-height: 1.6;">You have demonstrated excellent understanding of memory management concepts! You're well prepared for your Operating Systems exam.</p>
                            <p style="font-size: 1.1em; line-height: 1.6;">لقد أظهرت فهماً ممتازاً لمفاهيم إدارة الذاكرة! أنت مستعد جيداً لامتحان أنظمة التشغيل.</p>
                        </div>
                    ` : `
                        <div style="background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); border: 3px solid #ffc107; padding: 20px; border-radius: 15px; margin: 20px 0;">
                            <h4>📚 Study Recommendations:</h4>
                            <p>Review the following topics: / راجع المواضيع التالية:</p>
                            <ul style="margin-top: 10px;">
                                <li>Address binding techniques / تقنيات ربط العناوين</li>
                                <li>MMU functionality / وظائف وحدة إدارة الذاكرة</li>
                                <li>Paging and segmentation / التصفح والتجزئة</li>
                                <li>Memory allocation algorithms / خوارزميات تخصيص الذاكرة</li>
                            </ul>
                        </div>
                    `}
                </div>
            `;
            resultsDiv.style.display = 'block';
            
            document.getElementById('submit-final-btn').style.display = 'none';
            document.getElementById('reset-final-btn').style.display = 'inline-block';
            
            // Update overall progress
            totalScore += score;
            totalQuestions += finalQuizQuestions.length;
            updateProgress();
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetFinalQuiz() {
            document.getElementById('final-quiz-content').innerHTML = '';
            document.getElementById('final-results').style.display = 'none';
            document.getElementById('start-final-btn').style.display = 'inline-block';
            document.getElementById('submit-final-btn').style.display = 'none';
            document.getElementById('reset-final-btn').style.display = 'none';
            finalAnswers = {};
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            try {
                updateProgress();
                console.log('💾 Complete Interactive Memory Management Guide Loaded Successfully!');
                console.log('🎯 Complete all quizzes to master memory management concepts!');
                
                // Add click handlers for navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        const sectionId = this.getAttribute('data-section');
                        if (sectionId) {
                            showSection(sectionId, this);
                        }
                    });
                });
                
                // Add click handlers for final exam buttons
                const startFinalBtn = document.getElementById('start-final-btn');
                const submitFinalBtn = document.getElementById('submit-final-btn');
                const resetFinalBtn = document.getElementById('reset-final-btn');
                
                if (startFinalBtn) {
                    startFinalBtn.addEventListener('click', generateFinalQuiz);
                }
                if (submitFinalBtn) {
                    submitFinalBtn.addEventListener('click', submitFinalQuiz);
                }
                if (resetFinalBtn) {
                    resetFinalBtn.addEventListener('click', resetFinalQuiz);
                }
                
            } catch (error) {
                console.error('Error initializing page:', error);
            }
        });

        // Enhanced keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Arrow key navigation
            if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
                const activeBtn = document.querySelector('.nav-btn.active');
                if (activeBtn) {
                    const buttons = Array.from(document.querySelectorAll('.nav-btn'));
                    const currentIndex = buttons.indexOf(activeBtn);
                    let newIndex;
                    
                    if (e.key === 'ArrowLeft') {
                        newIndex = currentIndex > 0 ? currentIndex - 1 : buttons.length - 1;
                    } else {
                        newIndex = currentIndex < buttons.length - 1 ? currentIndex + 1 : 0;
                    }
                    
                    const targetBtn = buttons[newIndex];
                    if (targetBtn) {
                        targetBtn.click();
                    }
                }
            }
            
            // Quick shortcuts
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        document.querySelector('[data-section="overview"]').click();
                        break;
                    case '2':
                        e.preventDefault();
                        document.querySelector('[data-section="background"]').click();
                        break;
                    case '3':
                        e.preventDefault();
                        document.querySelector('[data-section="binding"]').click();
                        break;
                    case '0':
                        e.preventDefault();
                        document.querySelector('[data-section="final-quiz"]').click();
                        break;
                }
            }
        });

        // Add smooth scrolling for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add loading animation for better perceived performance
        window.addEventListener('load', function() {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease-in-out';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
        });
    </script>

    <!-- Footer with completion celebration -->
    <div style="text-align: center; margin-top: 40px; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; color: white; position: relative; overflow: hidden;">
        <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); animation: rotate 30s linear infinite;"></div>
        <div style="position: relative; z-index: 1;">
            <h2 style="font-size: 2.2em; margin-bottom: 15px;">🌟 Congratulations! تهانينا! 🌟</h2>
            <h3 style="font-size: 1.5em; margin-bottom: 20px;">You've Completed Memory Management!</h3>
            <h3 style="font-size: 1.5em; margin-bottom: 20px;">لقد أكملت إدارة الذاكرة!</h3>
            <p style="font-size: 1.2em; margin-bottom: 15px;">You are now ready to tackle memory management problems in your Operating Systems exam!</p>
            <p style="font-size: 1.2em; margin-bottom: 15px;">أنت الآن مستعد لحل مشاكل إدارة الذاكرة في امتحان أنظمة التشغيل!</p>
            <div style="display: flex; justify-content: center; gap: 30px; margin-top: 25px; flex-wrap: wrap;">
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; backdrop-filter: blur(10px);">
                    <div style="font-size: 1.5em; font-weight: bold;">📏</div>
                    <div>Address Binding<br>ربط العناوين</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; backdrop-filter: blur(10px);">
                    <div style="font-size: 1.5em; font-weight: bold;">⚙️</div>
                    <div>MMU<br>وحدة إدارة الذاكرة</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; backdrop-filter: blur(10px);">
                    <div style="font-size: 1.5em; font-weight: bold;">📄</div>
                    <div>Paging<br>التصفح</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; backdrop-filter: blur(10px);">
                    <div style="font-size: 1.5em; font-weight: bold;">🧩</div>
                    <div>Segmentation<br>التجزئة</div>
                </div>
            </div>
            <p style="font-size: 1em; margin-top: 25px; opacity: 0.9; font-style: italic;">
                "Memory management is the foundation of efficient computing!"<br>
                "إدارة الذاكرة هي أساس الحوسبة الفعالة!"
            </p>
        </div>
    </div>
</body>
</html>
